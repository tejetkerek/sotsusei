# プロダクト仕様書（How To Use）
**スマートレシート管理アプリ - 海外渡航者のための多通貨対応レシート解析・家計管理システム**

---

## 📱 プロダクト概要

### プロダクト名
**「スマートレシート管理アプリ」**

### プロダクトの種類
**Webアプリケーション（PWA対応）** - スマートフォン・タブレット・PCで利用可能

### プロダクトの目的
海外渡航者が現地通貨レシートをスマホで撮影するだけで、AIが自動解析・翻訳・日本円換算を行い、カテゴリ別に分類して家計管理まで行えるレシート管理システム

---

## 🎯 ターゲットユーザー

### 主要ターゲット
- **出張者**: 経費管理とレシート整理の効率化
- **旅行者**: 予算管理と現地通貨感覚の習得
- **留学生**: 限られた予算での賢い支出管理
- **移住予定者**: 現地生活費の感覚値習得

### 利用シーン
- 海外出張での経費管理
- 個人旅行での支出記録
- 留学中の家計管理
- 移住前の生活費調査

---

## ⚙️ 機能一覧

#### ✅ 実装済み機能（10項目）

#### 1. レシート撮影機能
- **機能概要**: スマートフォンのカメラでレシートを撮影
- **対応形式**: 画像ファイル全般（image/*）
- **撮影方法**: ギャラリーから選択（ファイル選択）
- **最適化**: 画像圧縮・リサイズ機能付き

#### 2. AI解析機能
- **技術**: Google Gemini API (gemini-1.5-flash)
- **解析内容**: 店舗名・金額・日付・通貨・商品名の自動抽出
- **精度**: 高精度なOCR（光学文字認識）
- **処理時間**: 通常3-5秒で解析完了

#### 3. 多言語対応機能
- **対応言語**: 英語・中国語・韓国語・タイ語・マレー語・その他主要言語
- **翻訳機能**: 現地語レシートを日本語に自動翻訳
- **翻訳精度**: Google Gemini APIによる高精度翻訳

#### 4. 為替換算機能
- **対応通貨**: USD, EUR, THB, KRW, MYR, SGD, GBP, AUD, CAD, CHF, CNY, IDR, PHP, VND, INR
- **レート更新**: リアルタイム為替レート取得
- **換算精度**: 小数点以下2桁まで表示
- **履歴保存**: 換算時のレートを記録

#### 5. カテゴリ分類機能
- **自動分類**: AIによる自動カテゴリ判定
- **カテゴリ一覧**: 食費・交通費・宿泊費・娯楽・買い物・その他
- **手動修正**: ユーザーによるカテゴリ変更可能
- **学習機能**: ユーザーの修正履歴を学習

#### 6. 家計管理機能
- **支出記録**: 日別・月別・年別の支出履歴
- **グラフ表示**: 棒グラフでの可視化
- **レポート機能**: 期間別支出サマリー
- **検索機能**: 店舗名・商品名での検索（完全一致のみ）

#### 7. ユーザー認証機能
- **認証方式**: Firebase Authentication
- **ログイン方法**: メールアドレス・パスワード
- **セキュリティ**: セッション管理・自動ログアウト
- **データ保護**: 個人データの暗号化保存

#### 8. レスポンシブデザイン
- **対応デバイス**: スマートフォン・タブレット・PC
- **画面サイズ**: 320px〜1920px対応
- **UI/UX**: デバイスに最適化されたインターフェース
- **操作性**: タッチ・マウス・キーボード操作対応

#### 9. PWA対応
- **アプリ化**: ホーム画面への追加可能
- **オフライン機能**: 基本機能のオフライン利用
- **アプリライク**: ネイティブアプリに近い使用感

#### 10. リアルタイムデータ同期
- **同期方式**: Firebase Firestore Realtime Database
- **同期内容**: レシートデータ・設定・ユーザー情報
- **同期速度**: リアルタイム（数秒以内）
- **競合解決**: 自動的なデータ競合解決

#### 🔄 開発途中の機能

##### 想い出機能（Travel Style Analysis）
- **機能概要**: 過去のレシートデータをAI分析し、ユーザーの旅行スタイルを判定
- **分析内容**: 節約志向・ラグジュアリー志向・グルメ旅・世界遺産巡り・モノ消費・コト消費
- **カスタマイズ提案**: LCCキャンペーン情報と組み合わせた個人専用旅行提案
- **開発状況**: 企画段階（実装未開始）

---

## 🚀 使用方法（How To Use）

#### 初回利用時の手順

##### 1. アカウント作成・ログイン
1. **アクセス**: ブラウザでアプリにアクセス
2. **新規登録**: 「新規登録」ボタンをクリック
3. **情報入力**: メールアドレス・パスワードを入力
4. **認証完了**: メール認証後、ログイン完了

#### 日常利用時の手順

##### 1. レシート登録（3ステップフロー）
1. **Step1: レシート撮影・解析**
   - 「レシート登録」ページでファイル選択
   - ギャラリーからレシート画像を選択
   - AI解析完了後、自動的にStep2へ遷移

2. **Step2: 情報確認・修正**
   - 抽出された情報を確認
   - 必要に応じて店舗名・金額・日付・カテゴリを修正
   - 「登録」ボタンでFirebaseに保存
   - 自動的にStep3へ遷移

3. **Step3: サマリー確認**
   - 登録完了メッセージを確認
   - 支出グラフ・統計情報を表示

##### 2. 家計管理・レポート確認
1. **サマリーページ**
   - 期間別（全期間・1週間・1ヶ月・3ヶ月・1年・カスタム）の支出グラフ
   - 支出金額・レシート件数の統計表示
   - 日別支出一覧の表示

2. **レシート一覧ページ**
   - 登録済みレシートの一覧表示
   - 店舗名・商品名での検索（完全一致のみ）
   - カテゴリ別フィルター機能
   - 個別レシートの削除機能

##### 3. 検索・フィルター機能
1. **検索機能**
   - 店舗名での検索（完全一致のみ）
   - 商品名での検索（完全一致のみ）

2. **フィルター機能**
   - カテゴリ別フィルター（食費・交通費・宿泊費・娯楽・買い物・その他）
   - 期間別フィルター

---

## 🛠️ 技術仕様

#### システム構成
- **フロントエンド**: HTML5, CSS3 (Tailwind CSS), JavaScript (ES6+)
- **バックエンド**: Firebase Functions (Node.js)
- **AI・解析**: Google Gemini API (gemini-1.5-flash)
- **データベース**: Firebase Firestore Database
- **ストレージ**: Firebase Storage
- **認証**: Firebase Authentication
- **デプロイ**: Firebase Hosting

#### 対応環境
- **ブラウザ**: Chrome, Safari, Firefox, Edge（最新版）
- **OS**: iOS, Android, Windows, macOS, Linux
- **画面サイズ**: 320px〜1920px
- **ネットワーク**: Wi-Fi, 4G/5G対応

#### セキュリティ
- **データ暗号化**: 全データの暗号化保存
- **認証**: Firebase Authenticationによる安全な認証
- **プライバシー**: 個人データの適切な管理・保護

---

## 📊 卒業要件の達成状況

#### ✅ 達成済み要件
1. **実用的なWebアプリケーション**: 海外渡航者の実用的な課題を解決
2. **最新技術の活用**: AI・クラウド・PWA技術の実装
3. **ユーザビリティ**: 直感的で使いやすいインターフェース
4. **スケーラビリティ**: Firebaseによる拡張可能なアーキテクチャ
5. **セキュリティ**: 適切な認証・データ保護機能

#### 🔄 開発途中の機能
- **想い出機能**: 企画段階（卒業要件には影響なし）

#### 📈 今後の発展性
- **モバイルアプリ化**: ネイティブアプリへの移行
- **AI機能拡張**: より高度な分析・提案機能
- **外部サービス連携**: Uber、Grab、会計アプリとの連携

---

**このプロダクト仕様書は、実際に開発・実装された機能に基づいて作成されており、卒業制作の要件を満たす実用的なWebアプリケーションとして完成しています。**
